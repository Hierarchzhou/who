{"version":3,"sources":["webpack:///static/js/app.0fe1fa6985d865347d09.js","webpack:///./src/main.js","webpack:///VueAvatar.vue","webpack:///VueAvatarScale.vue","webpack:///./src/components/VueAvatar.vue?217f","webpack:///./src/components/VueAvatarScale.vue?7ecb","webpack:///./src/components/VueAvatar.vue","webpack:///./src/components/VueAvatarScale.vue"],"names":["webpackJsonp","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_vue","_vue2","_VueAvatar","_VueAvatar2","_VueAvatarScale","_VueAvatarScale2","el","components","VueAvatar","VueAvatarScale","methods","onChangeScale","scale","this","$refs","vueavatar","changeScale","saveClicked","console","log","img","getImageScaled","document","getElementById","src","toDataURL","onImageReady","vueavatarscale","setScale","Object","defineProperty","value","drawRoundedRect","context","x","y","width","height","borderRadius","rect","widthMinusRad","heightMinusRad","translate","arc","Math","PI","lineTo","props","image","type","String","border","Number","color","Array","data","cursor","canvas","dragged","imageLoaded","state","drag","my","mx","xxx","resource","computed","canvasWidth","getDimensions","canvasHeight","mounted","getContext","paint","loadImage","placeHolder","svgToImage","self","onload","drawImage","ctx","rawSVG","svg","Blob","domURL","URL","webkitURL","url","createObjectURL","Image","setState","state1","min","ceil","max","floor","cnt","random","save","fillStyle","slice","join","dimensions","borderSize","beginPath","fill","restore","onDrop","e","_this","window","event","stopPropagation","preventDefault","dataTransfer","files","length","reader","FileReader","file","target","result","readAsDataURL","onDragStart","onDragEnd","onMouseMove","imageState","lastX","lastY","mousePositionX","targetTouches","pageX","clientX","mousePositionY","pageY","clientY","newState","xDiff","yDiff","getBoundedY","getBoundedX","imageURL","imageObj","handleImageReady","isDataURL","crossOrigin","getInitialSize","oldState","$emit","newHeight","newWidth","canvasRatio","imageRatio","str","regex","match","widthDiff","heightDiff","paintImage","position","calculatePosition","globalCompositeOperation","sc","redraw","clearRect","getImage","cropRect","getCroppingRect","createElement","_getDimensions","dim","frameRect","imageRect","clicked","click","fileSelected","_this2","watch","handler","val","oldval","deep","step","__vue_script__","__vue_template__","options","template"],"mappings":"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","file":"static/js/app.0fe1fa6985d865347d09.js","sourcesContent":["webpackJsonp([1],[\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _vue = __webpack_require__(8);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tvar _VueAvatar = __webpack_require__(6);\n\t\n\tvar _VueAvatar2 = _interopRequireDefault(_VueAvatar);\n\t\n\tvar _VueAvatarScale = __webpack_require__(7);\n\t\n\tvar _VueAvatarScale2 = _interopRequireDefault(_VueAvatarScale);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar vm = new _vue2.default({\n\t  el: '#app',\n\t  components: {\n\t    VueAvatar: _VueAvatar2.default,\n\t    VueAvatarScale: _VueAvatarScale2.default\n\t  },\n\t  methods: {\n\t    onChangeScale: function onChangeScale(scale) {\n\t      this.$refs.vueavatar.changeScale(scale);\n\t    },\n\t    saveClicked: function saveClicked() {\n\t      console.log('save clicked');\n\t      var img = this.$refs.vueavatar.getImageScaled();\n\t      document.getElementById('img-1').src = img.toDataURL();\n\t    },\n\t    onImageReady: function onImageReady(scale) {\n\t      this.$refs.vueavatarscale.setScale(scale);\n\t    }\n\t  }\n\t});\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar drawRoundedRect = function drawRoundedRect(context, x, y, width, height, borderRadius) {\n\t    if (borderRadius === 0) {\n\t        context.rect(x, y, width, height);\n\t    } else {\n\t        var widthMinusRad = width - borderRadius;\n\t        var heightMinusRad = height - borderRadius;\n\t        context.translate(x, y);\n\t        context.arc(borderRadius, borderRadius, borderRadius, Math.PI, Math.PI * 1.5);\n\t        context.lineTo(widthMinusRad, 0);\n\t        context.arc(widthMinusRad, borderRadius, borderRadius, Math.PI * 1.5, Math.PI * 2);\n\t        context.lineTo(width, heightMinusRad);\n\t        context.arc(widthMinusRad, heightMinusRad, borderRadius, Math.PI * 2, Math.PI * 0.5);\n\t        context.lineTo(borderRadius, height);\n\t        context.arc(borderRadius, heightMinusRad, borderRadius, Math.PI * 0.5, Math.PI);\n\t        context.translate(-x, -y);\n\t    }\n\t};\n\t\n\texports.default = {\n\t    props: {\n\t        image: {\n\t            type: String,\n\t            default: ''\n\t        },\n\t        border: {\n\t            type: Number,\n\t            default: 25\n\t        },\n\t        borderRadius: {\n\t            type: Number,\n\t            default: 0\n\t        },\n\t        width: {\n\t            type: Number,\n\t            default: 200\n\t        },\n\t        height: {\n\t            type: Number,\n\t            default: 200\n\t        },\n\t        color: {\n\t            type: Array,\n\t            default: function _default() {\n\t                return [0, 0, 0, 0.5];\n\t            }\n\t        }\n\t    },\n\t    data: function data() {\n\t        return {\n\t            cursor: 'cursorPointer',\n\t            scale: 1,\n\t            canvas: null,\n\t            context: null,\n\t            dragged: false,\n\t            imageLoaded: false,\n\t            state: {\n\t                drag: false,\n\t                my: null,\n\t                mx: null,\n\t                xxx: \"ab\",\n\t                image: {\n\t                    x: 0,\n\t                    y: 0,\n\t                    resource: null\n\t                }\n\t            }\n\t        };\n\t    },\n\t    computed: {\n\t        canvasWidth: function canvasWidth() {\n\t            return this.getDimensions().canvas.width;\n\t        },\n\t        canvasHeight: function canvasHeight() {\n\t            return this.getDimensions().canvas.height;\n\t        }\n\t    },\n\t    mounted: function mounted() {\n\t        this.canvas = this.$refs.canvas;\n\t        this.context = this.canvas.getContext('2d');\n\t        this.paint();\n\t        if (!this.image) {\n\t            var placeHolder = this.svgToImage(this.context, '<svg id=\"Layer_1\" data-name=\"Layer 1\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 65 65\"><defs><style>.cls-1{fill:#999;}</style></defs><title>Upload_Upload</title><path class=\"cls-1\" d=\"M32.5,1A31.5,31.5,0,1,1,1,32.5,31.54,31.54,0,0,1,32.5,1m0-1A32.5,32.5,0,1,0,65,32.5,32.5,32.5,0,0,0,32.5,0h0Z\"/><polygon class=\"cls-1\" points=\"41.91 28.2 32.59 18.65 23.09 28.39 24.17 29.44 31.87 21.54 31.87 40.05 33.37 40.05 33.37 21.59 40.83 29.25 41.91 28.2\"/><polygon class=\"cls-1\" points=\"40.66 40.35 40.66 44.35 24.34 44.35 24.34 40.35 22.34 40.35 22.34 44.35 22.34 46.35 24.34 46.35 40.66 46.35 42.66 46.35 42.66 44.35 42.66 40.35 40.66 40.35\"/></svg>');\n\t            var self = this;\n\t\n\t            placeHolder.onload = function () {\n\t                var dim = self.getDimensions();\n\t                var x = self.canvasWidth / 2 - this.width / 2;\n\t                var y = self.canvasHeight / 2 - this.height / 2;\n\t                self.context.drawImage(placeHolder, x, y, this.width, this.height);\n\t            };\n\t        } else {\n\t            this.loadImage(this.image);\n\t        }\n\t    },\n\t    methods: {\n\t        svgToImage: function svgToImage(ctx, rawSVG) {\n\t            var svg = new Blob([rawSVG], { type: \"image/svg+xml;charset=utf-8\" }),\n\t                domURL = self.URL || self.webkitURL || self,\n\t                url = domURL.createObjectURL(svg),\n\t                img = new Image();\n\t            img.src = url;\n\t            return img;\n\t        },\n\t        setState: function setState(state1) {\n\t            var min = Math.ceil(1);\n\t            var max = Math.floor(10000);\n\t\n\t            this.state = state1;\n\t            this.state.cnt = 'HELLO' + Math.floor(Math.random() * (max - min)) + min;\n\t        },\n\t        paint: function paint() {\n\t            this.context.save();\n\t            this.context.translate(0, 0);\n\t            this.context.fillStyle = 'rgba(' + this.color.slice(0, 4).join(',') + ')';\n\t\n\t            var borderRadius = this.borderRadius;\n\t            var dimensions = this.getDimensions();\n\t            var borderSize = dimensions.border;\n\t            var height = dimensions.canvas.height;\n\t            var width = dimensions.canvas.width;\n\t\n\t            borderRadius = Math.max(borderRadius, 0);\n\t            borderRadius = Math.min(borderRadius, width / 2 - borderSize, height / 2 - borderSize);\n\t\n\t            this.context.beginPath();\n\t\n\t            drawRoundedRect(this.context, borderSize, borderSize, width - borderSize * 2, height - borderSize * 2, borderRadius);\n\t            this.context.rect(width, 0, -width, height);\n\t            this.context.fill('evenodd');\n\t\n\t            this.context.restore();\n\t        },\n\t        getDimensions: function getDimensions() {\n\t            return {\n\t                width: this.width,\n\t                height: this.height,\n\t                border: this.border,\n\t                canvas: {\n\t                    width: this.width + this.border * 2,\n\t                    height: this.height + this.border * 2\n\t                }\n\t            };\n\t        },\n\t        onDrop: function onDrop(e) {\n\t            var _this = this;\n\t\n\t            e = e || window.event;\n\t            e.stopPropagation();\n\t            e.preventDefault();\n\t            if (e.dataTransfer && e.dataTransfer.files.length) {\n\t                var reader = new FileReader();\n\t                var file = e.dataTransfer.files[0];\n\t                reader.onload = function (e) {\n\t                    return _this.loadImage(e.target.result);\n\t                };\n\t                reader.readAsDataURL(file);\n\t            }\n\t        },\n\t        onDragStart: function onDragStart(e) {\n\t            e = e || window.event;\n\t            e.preventDefault();\n\t            this.state.drag = true;\n\t\n\t            this.state.mx = null;\n\t            this.state.my = null;\n\t            this.cursor = 'cursorGrabbing';\n\t        },\n\t        onDragEnd: function onDragEnd(e) {\n\t            if (this.state.drag) {\n\t                this.state.drag = false;\n\t                this.cursor = 'cursorPointer';\n\t            }\n\t        },\n\t        onMouseMove: function onMouseMove(e) {\n\t            e = e || window.event;\n\t            if (this.state.drag === false) {\n\t                return;\n\t            }\n\t\n\t            this.dragged = true;\n\t\n\t            var imageState = this.state.image;\n\t            var lastX = imageState.x;\n\t            var lastY = imageState.y;\n\t\n\t            var mousePositionX = e.targetTouches ? e.targetTouches[0].pageX : e.clientX;\n\t            var mousePositionY = e.targetTouches ? e.targetTouches[0].pageY : e.clientY;\n\t\n\t            var newState = { mx: mousePositionX, my: mousePositionY, image: imageState };\n\t\n\t            if (this.state.mx && this.state.my) {\n\t                var xDiff = (this.state.mx - mousePositionX) / this.scale;\n\t                var yDiff = (this.state.my - mousePositionY) / this.scale;\n\t\n\t                imageState.y = this.getBoundedY(lastY - yDiff, this.scale);\n\t                imageState.x = this.getBoundedX(lastX - xDiff, this.scale);\n\t            }\n\t            this.state.mx = newState.mx;\n\t            this.state.my = newState.my;\n\t            this.state.image = imageState;\n\t        },\n\t        loadImage: function loadImage(imageURL) {\n\t            var imageObj = new Image();\n\t            var self = this;\n\t            imageObj.onload = function () {\n\t                self.handleImageReady(imageObj);\n\t            };\n\t\n\t            if (!this.isDataURL(imageURL)) imageObj.crossOrigin = 'anonymous';\n\t            imageObj.src = imageURL;\n\t        },\n\t        handleImageReady: function handleImageReady(image) {\n\t            var imageState = this.getInitialSize(image.width, image.height);\n\t            imageState.resource = image;\n\t\n\t            imageState.x = 0;\n\t            imageState.y = 0;\n\t\n\t            var oldState = this.state;\n\t            oldState.drag = false;\n\t            oldState.image = imageState;\n\t            this.state.image.x = 0;\n\t            this.state.image.y = 0;\n\t            this.state.image.resource = image;\n\t            this.state.image.width = imageState.width;\n\t            this.state.image.height = imageState.height;\n\t            this.state.drag = false;\n\t            this.scale = 1;\n\t            this.$emit('vue-avatar-editor:image-ready', this.scale);\n\t            this.imageLoaded = true;\n\t            this.cursor = 'cursorGrab';\n\t        },\n\t        getInitialSize: function getInitialSize(width, height) {\n\t            var newHeight = void 0;\n\t            var newWidth = void 0;\n\t\n\t            var dimensions = this.getDimensions();\n\t            var canvasRatio = dimensions.height / dimensions.width;\n\t            var imageRatio = height / width;\n\t\n\t            if (canvasRatio > imageRatio) {\n\t                newHeight = this.getDimensions().height;\n\t                newWidth = width * (newHeight / height);\n\t            } else {\n\t                newWidth = this.getDimensions().width;\n\t                newHeight = height * (newWidth / width);\n\t            }\n\t\n\t            return {\n\t                height: newHeight,\n\t                width: newWidth\n\t            };\n\t        },\n\t        isDataURL: function isDataURL(str) {\n\t            if (str === null) {\n\t                return false;\n\t            }\n\t            var regex = /^\\s*data:([a-z]+\\/[a-z]+(;[a-z\\-]+=[a-z\\-]+)?)?(;base64)?,[a-z0-9!$&',()*+;=\\-._~:@\\/?%\\s]*\\s*$/i;\n\t            return !!str.match(regex);\n\t        },\n\t\n\t        getBoundedX: function getBoundedX(x, scale) {\n\t            var image = this.state.image;\n\t            var dimensions = this.getDimensions();\n\t            var widthDiff = Math.floor((image.width - dimensions.width / scale) / 2);\n\t            widthDiff = Math.max(0, widthDiff);\n\t\n\t            return Math.max(-widthDiff, Math.min(x, widthDiff));\n\t        },\n\t        getBoundedY: function getBoundedY(y, scale) {\n\t            var image = this.state.image;\n\t            var dimensions = this.getDimensions();\n\t            var heightDiff = Math.floor((image.height - dimensions.height / scale) / 2);\n\t            heightDiff = Math.max(0, heightDiff);\n\t            return Math.max(-heightDiff, Math.min(y, heightDiff));\n\t        },\n\t        paintImage: function paintImage(context, image, border) {\n\t            if (image.resource) {\n\t                var position = this.calculatePosition(image, border);\n\t                context.save();\n\t                context.globalCompositeOperation = 'destination-over';\n\t                context.drawImage(image.resource, position.x, position.y, position.width, position.height);\n\t                context.restore();\n\t            }\n\t        },\n\t        calculatePosition: function calculatePosition(image, border) {\n\t            var image = image || this.state.image;\n\t\n\t            var dimensions = this.getDimensions();\n\t            var width = image.width * this.scale;\n\t            var height = image.height * this.scale;\n\t\n\t            var widthDiff = (width - dimensions.width) / 2;\n\t            var heightDiff = (height - dimensions.height) / 2;\n\t            var x = image.x * this.scale - widthDiff + border;\n\t            var y = image.y * this.scale - heightDiff + border;\n\t            return {\n\t                x: x,\n\t                y: y,\n\t                height: height,\n\t                width: width\n\t            };\n\t        },\n\t        changeScale: function changeScale(sc) {\n\t            this.scale = sc;\n\t        },\n\t        redraw: function redraw() {\n\t            this.context.clearRect(0, 0, this.getDimensions().canvas.width, this.getDimensions().canvas.height);\n\t            this.paint();\n\t            this.paintImage(this.context, this.state.image, this.border);\n\t        },\n\t        getImage: function getImage() {\n\t            var cropRect = this.getCroppingRect();\n\t            var image = this.state.image;\n\t\n\t            cropRect.x *= image.resource.width;\n\t            cropRect.y *= image.resource.height;\n\t            cropRect.width *= image.resource.width;\n\t            cropRect.height *= image.resource.height;\n\t\n\t            var canvas = document.createElement('canvas');\n\t            canvas.width = cropRect.width;\n\t            canvas.height = cropRect.height;\n\t\n\t            canvas.getContext('2d').drawImage(image.resource, -cropRect.x, -cropRect.y);\n\t\n\t            return canvas;\n\t        },\n\t        getImageScaled: function getImageScaled() {\n\t            var _getDimensions = this.getDimensions(),\n\t                width = _getDimensions.width,\n\t                height = _getDimensions.height;\n\t\n\t            var canvas = document.createElement('canvas');\n\t            canvas.width = width;\n\t            canvas.height = height;\n\t\n\t            this.paintImage(canvas.getContext('2d'), this.state.image, 0);\n\t\n\t            return canvas;\n\t        },\n\t        getCroppingRect: function getCroppingRect() {\n\t            var dim = this.getDimensions();\n\t            var frameRect = { x: dim.border, y: dim.border, width: dim.width, height: dim.height };\n\t            var imageRect = this.calculatePosition(this.state.image, dim.border);\n\t            return {\n\t                x: (frameRect.x - imageRect.x) / imageRect.width,\n\t                y: (frameRect.y - imageRect.y) / imageRect.height,\n\t                width: frameRect.width / imageRect.width,\n\t                height: frameRect.height / imageRect.height\n\t            };\n\t        },\n\t        clicked: function clicked(e) {\n\t            if (this.dragged == true) {\n\t                this.dragged = false;\n\t            } else {\n\t                document.getElementById('ab-1').click();\n\t            }\n\t        },\n\t        fileSelected: function fileSelected(e) {\n\t            var _this2 = this;\n\t\n\t            var files = e.target.files || e.dataTransfer.files;\n\t            if (!files.length) return;\n\t            var image = new Image();\n\t            var reader = new FileReader();\n\t            reader.onload = function (e) {\n\t                _this2.loadImage(e.target.result);\n\t            };\n\t            reader.readAsDataURL(files[0]);\n\t        }\n\t    },\n\t\n\t    watch: {\n\t        state: {\n\t            handler: function handler(val, oldval) {\n\t                if (this.imageLoaded == true) this.redraw();\n\t            },\n\t            deep: true\n\t        },\n\t        scale: function scale() {\n\t            if (this.imageLoaded == true) this.redraw();\n\t        }\n\t    }\n\t};\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.default = {\n\t\tprops: {\n\t\t\twidth: {\n\t\t\t\ttype: Number,\n\t\t\t\tdefault: 200\n\t\t\t},\n\t\t\tmin: {\n\t\t\t\ttype: Number,\n\t\t\t\tdefault: 1\n\t\t\t},\n\t\t\tmax: {\n\t\t\t\ttype: Number,\n\t\t\t\tdefault: 2\n\t\t\t},\n\t\t\tstep: {\n\t\t\t\ttype: Number,\n\t\t\t\tdefault: 0.01\n\t\t\t}\n\t\n\t\t},\n\t\tmethods: {\n\t\t\tsetScale: function setScale(scale) {\n\t\t\t\tthis.scale = scale;\n\t\t\t}\n\t\t},\n\t\tdata: function data() {\n\t\t\treturn {\n\t\t\t\tscale: 1\n\t\t\t};\n\t\t},\n\t\twatch: {\n\t\t\tscale: function scale() {\n\t\t\t\tthis.$emit('vue-avatar-editor-scale:change-scale', this.scale);\n\t\t\t}\n\t\t}\n\t};\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \" <canvas :width=canvasWidth :height=canvasHeight ref=canvas @dragover.prevent @drop=onDrop @mousedown=onDragStart @mouseup=onDragEnd @mousemove=onMouseMove @click=clicked v-bind:class=cursor> <input type=file id=ab-1 @change=fileSelected style=display:none> </canvas>\";\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \" <input v-model=scale type=range :min=min :max=max :step=step :style=\\\"{ width:width +'px'}\\\"/> \";\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\t__webpack_require__(3)\n\t__vue_script__ = __webpack_require__(1)\n\t__vue_template__ = __webpack_require__(4)\n\tmodule.exports = __vue_script__ || {}\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\tif (__vue_template__) {\n\t(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n\t}\n\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\t__vue_script__ = __webpack_require__(2)\n\t__vue_template__ = __webpack_require__(5)\n\tmodule.exports = __vue_script__ || {}\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\tif (__vue_template__) {\n\t(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n\t}\n\n\n/***/ }\n]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.0fe1fa6985d865347d09.js","import Vue from 'vue'\nimport VueAvatar from './components/VueAvatar.vue'\nimport VueAvatarScale from './components/VueAvatarScale.vue'\n\nlet vm = new Vue({\n  el: '#app',\n  components: {\n  \tVueAvatar,\n  \tVueAvatarScale\n  },\n  methods:{\n  \tonChangeScale (scale) {\n      \tthis.$refs.vueavatar.changeScale(scale)\n    },\n    saveClicked(){\n    \tconsole.log('save clicked')\n    \tvar img = this.$refs.vueavatar.getImageScaled()\n    \tdocument.getElementById('img-1').src = img.toDataURL()\n    },\n    onImageReady(scale){\n    \tthis.$refs.vueavatarscale.setScale(scale)\n    }\n  }\n})\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","<template>\n   <canvas :width=\"canvasWidth\" :height=\"canvasHeight\" ref=\"canvas\" @dragover.prevent @drop=\"onDrop\" @mousedown=\"onDragStart\" @mouseup=\"onDragEnd\" @mousemove=\"onMouseMove\" @click=\"clicked\" v-bind:class=\"cursor\">\n   <input type=\"file\" id='ab-1' @change=\"fileSelected\" style=\"display:none;\">\n</template>\n<style type=\"text/css\">\n    .cursorPointer{\n        cursor: pointer;\n    }\n    .cursorGrab{\n        cursor: grab;\n        cursor: -webkit-grab;\n        cursor: -moz-grab;\n    }\n    .cursorGrabbing{\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        cursor: -moz-grabbing;\n    }\n</style>\n<script>\n\tconst drawRoundedRect = (context, x, y, width, height, borderRadius) => {\n  if (borderRadius === 0) {\n    context.rect(x, y, width, height)\n  } else {\n    const widthMinusRad = width - borderRadius\n    const heightMinusRad = height - borderRadius\n    context.translate(x, y)\n    context.arc(borderRadius, borderRadius, borderRadius, Math.PI, Math.PI * 1.5)\n    context.lineTo(widthMinusRad, 0)\n    context.arc(widthMinusRad, borderRadius, borderRadius, Math.PI * 1.5, Math.PI * 2)\n    context.lineTo(width, heightMinusRad)\n    context.arc(widthMinusRad, heightMinusRad, borderRadius, Math.PI * 2, Math.PI * 0.5)\n    context.lineTo(borderRadius, height)\n    context.arc(borderRadius, heightMinusRad, borderRadius, Math.PI * 0.5, Math.PI)\n    context.translate(-x, -y)\n  }\n}\n\n\texport default {\n\t\tprops:{\n\t\t\timage:{\n\t\t\t\ttype:String,\n\t\t\t\tdefault:''\n\t\t\t},\n\t\t\tborder:{\n\t\t\t\ttype:Number,\n\t\t\t\tdefault:25\n\t\t\t},\n\t\t\tborderRadius:{\n\t\t\t\ttype:Number,\n\t\t\t\tdefault:0\n\t\t\t},\n\t\t\twidth:{\n\t\t\t\ttype:Number,\n\t\t\t\tdefault:200\n\t\t\t},\n\t\t\theight:{\n\t\t\t\ttype:Number,\n\t\t\t\tdefault:200\n\t\t\t},\n\t\t\tcolor:{\n\t\t\t\ttype:Array,\n\t\t\t\tdefault:function(){return [0, 0, 0, 0.5]}\n\t\t\t}\n\t\t},\n\t\tdata:function(){\n\t\t\treturn {\n                cursor:'cursorPointer',\n                scale:1,\n\t\t\t\tcanvas:null,\n\t\t\t\tcontext:null,\n                dragged:false,\n                imageLoaded:false,\n\t\t\t\tstate: {\n    \t\t\t\tdrag: false,\n    \t\t\t\tmy: null,\n    \t\t\t\tmx: null,\n                    xxx: \"ab\",\n    \t\t\t\timage: {\n      \t\t\t\t\tx: 0,\n      \t\t\t\t\ty: 0,\n                        resource:null\n    \t\t\t\t}\n  \t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tcomputed:{\n\t\t\tcanvasWidth:function(){\n\t\t\t\treturn this.getDimensions().canvas.width\n\t\t\t},\n\t\t\tcanvasHeight:function(){\n\t\t\t\treturn this.getDimensions().canvas.height\n\t\t\t}\n\t\t},\n\t\tmounted: function(){\n\t\t\tthis.canvas = this.$refs.canvas\n\t\t\tthis.context = this.canvas.getContext('2d')\n\t\t\tthis.paint()\n            if(!this.image)\n            {\n                var placeHolder = this.svgToImage(this.context,'<svg id=\"Layer_1\" data-name=\"Layer 1\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 65 65\"><defs><style>.cls-1{fill:#999;}</style></defs><title>Upload_Upload</title><path class=\"cls-1\" d=\"M32.5,1A31.5,31.5,0,1,1,1,32.5,31.54,31.54,0,0,1,32.5,1m0-1A32.5,32.5,0,1,0,65,32.5,32.5,32.5,0,0,0,32.5,0h0Z\"/><polygon class=\"cls-1\" points=\"41.91 28.2 32.59 18.65 23.09 28.39 24.17 29.44 31.87 21.54 31.87 40.05 33.37 40.05 33.37 21.59 40.83 29.25 41.91 28.2\"/><polygon class=\"cls-1\" points=\"40.66 40.35 40.66 44.35 24.34 44.35 24.34 40.35 22.34 40.35 22.34 44.35 22.34 46.35 24.34 46.35 40.66 46.35 42.66 46.35 42.66 44.35 42.66 40.35 40.66 40.35\"/></svg>');\n                var self = this;\n               \n                placeHolder.onload = function(){\n                    var dim = self.getDimensions()\n                    var x = self.canvasWidth / 2 - this.width / 2\n                    var y = self.canvasHeight / 2 - this.height / 2\n                    self.context.drawImage(placeHolder,x,y,this.width,this.height);\n                }\n            }\n            else\n            {\n                this.loadImage(this.image)\n            }\n\t\t},\n\t\tmethods:{\n            svgToImage:function(ctx, rawSVG) {\n                var svg = new Blob([rawSVG], {type:\"image/svg+xml;charset=utf-8\"}),\n                domURL = self.URL || self.webkitURL || self,\n                url = domURL.createObjectURL(svg),\n                img = new Image;\n                img.src = url;\n                return img;\n            },\n\t\t\tsetState:function(state1){\n                var min = Math.ceil(1);\n                var max = Math.floor(10000);\n\n                this.state = state1;\n                this.state.cnt = 'HELLO' + Math.floor(Math.random() * (max - min)) + min\n\t\t\t},\n\t\t\tpaint:function(){\n\t\t\t\tthis.context.save()\n\t\t    \tthis.context.translate(0, 0)\n\t\t    \tthis.context.fillStyle = 'rgba(' + this.color.slice(0, 4).join(',') + ')'\n\n\t\t    \tlet borderRadius = this.borderRadius\n\t\t    \tconst dimensions = this.getDimensions()\n\t\t    \tconst borderSize = dimensions.border\n\t\t    \tconst height = dimensions.canvas.height\n\t\t    \tconst width = dimensions.canvas.width\n\n\t\t    \t// clamp border radius between zero (perfect rectangle) and half the size without borders (perfect circle or \"pill\")\n\t\t    \tborderRadius = Math.max(borderRadius, 0)\n\t\t    \tborderRadius = Math.min(borderRadius, width / 2 - borderSize, height / 2 - borderSize)\n\n\t\t    \tthis.context.beginPath()\n\t\t    \t// inner rect, possibly rounded\n\t\t    \tdrawRoundedRect(this.context, borderSize, borderSize, width - borderSize * 2, height - borderSize * 2, borderRadius)\n\t\t    \tthis.context.rect(width, 0, -width, height) // outer rect, drawn \"counterclockwise\"\n\t\t    \tthis.context.fill('evenodd')\n\n\t\t    \tthis.context.restore()\n\t\t\t},\n\t\t\tgetDimensions:function(){\n\t\t\t\treturn {\n      \t\t\t\twidth: this.width,\n      \t\t\t\theight: this.height,\n      \t\t\t\tborder: this.border,\n      \t\t\t\tcanvas: {\n        \t\t\t\twidth: this.width + (this.border * 2),\n        \t\t\t\theight: this.height + (this.border * 2)\n      \t\t\t\t}\n    \t\t\t}\n\t\t\t},\n\t\t\tonDrop:function(e){\n\t\t\t\te = e || window.event\n    \t\t\te.stopPropagation()\n    \t\t\te.preventDefault()\n\t\t\t\tif (e.dataTransfer && e.dataTransfer.files.length) \n\t\t\t\t{\n      \t\t\t\t//this.props.onDropFile(e)\n      \t\t\t\tconst reader = new FileReader()\n      \t\t\t\tconst file = e.dataTransfer.files[0]\n      \t\t\t\treader.onload = (e) => this.loadImage(e.target.result)\n      \t\t\t\treader.readAsDataURL(file)\n    \t\t\t}\n\t\t\t},\n\t\t\tonDragStart:function(e){\n\t\t\t\te = e || window.event\n    \t\t\te.preventDefault()\n                this.state.drag = true\n                \n                this.state.mx = null\n                this.state.my = null\n                this.cursor = 'cursorGrabbing'\n\t\t\t},\n\t\t\tonDragEnd: function(e){\n\t\t\t\tif (this.state.drag) {\n                    this.state.drag = false\n                    this.cursor = 'cursorPointer'\n    \t\t\t}\n\t\t\t},\n\t\t\tonMouseMove:function(e){\n\t\t\t\te = e || window.event\n    \t\t\tif (this.state.drag === false) {\n      \t\t\t\treturn\n    \t\t\t}\n\n    \t\t\tthis.dragged = true\n\n    \t\t\tlet imageState = this.state.image\n                const lastX = imageState.x\n                const lastY = imageState.y\n\n                const mousePositionX = e.targetTouches ? e.targetTouches[0].pageX : e.clientX\n                const mousePositionY = e.targetTouches ? e.targetTouches[0].pageY : e.clientY\n\n                const newState = { mx: mousePositionX, my: mousePositionY, image: imageState }\n\n                if (this.state.mx && this.state.my) {\n                    const xDiff = (this.state.mx - mousePositionX) / this.scale\n                    const yDiff = (this.state.my - mousePositionY) / this.scale\n\n                    imageState.y = this.getBoundedY(lastY - yDiff, this.scale)\n                    imageState.x = this.getBoundedX(lastX - xDiff, this.scale)\n                }\n                this.state.mx = newState.mx\n                this.state.my = newState.my\n                this.state.image = imageState\n                //this.setState(newState)\n\t\t\t},\n\t\t\tloadImage: function (imageURL) {\n    \t\t\tvar imageObj = new Image()\n                var self = this\n    \t\t\timageObj.onload = function(){\n                    self.handleImageReady(imageObj)\n                }\n    \t\t\t//imageObj.onerror = this.props.onLoadFailure\n    \t\t\tif (!this.isDataURL(imageURL)) imageObj.crossOrigin = 'anonymous'\n    \t\t\t\timageObj.src = imageURL\n  \t\t\t},\n  \t\t\thandleImageReady: function (image) {\n    \t\t\tvar imageState = this.getInitialSize(image.width, image.height)\n    \t\t\timageState.resource = image\n\n    \t\t\timageState.x = 0\n    \t\t\timageState.y = 0\n\n                var oldState = this.state\n                oldState.drag = false\n                oldState.image = imageState\n                this.state.image.x = 0\n                this.state.image.y = 0\n                this.state.image.resource = image\n                this.state.image.width = imageState.width\n                this.state.image.height= imageState.height\n                this.state.drag = false\n                this.scale = 1\n                this.$emit('vue-avatar-editor:image-ready', this.scale)\n                this.imageLoaded = true\n                this.cursor = 'cursorGrab'\n  \t\t\t},\n  \t\t\tgetInitialSize: function (width, height) {\n    \t\t\tlet newHeight\n    \t\t\tlet newWidth\n\n    \t\t\tconst dimensions = this.getDimensions()\n    \t\t\tconst canvasRatio = dimensions.height / dimensions.width\n    \t\t\tconst imageRatio = height / width\n\n\t    \t\tif (canvasRatio > imageRatio) \n\t    \t\t{\n\t      \t\t\tnewHeight = (this.getDimensions().height)\n\t      \t\t\tnewWidth = (width * (newHeight / height))\n\t    \t\t} \n\t    \t\telse \n\t    \t\t{\n\t      \t\t\tnewWidth = (this.getDimensions().width)\n\t      \t\t\tnewHeight = (height * (newWidth / width))\n\t    \t\t}\n\n\t    \t\treturn {\n\t      \t\t\theight: newHeight,\n\t      \t\t\twidth: newWidth\n\t    \t\t}\n\t  \t\t},\n\t  \t\tisDataURL (str) {\n    \t\t\tif (str === null) {\n      \t\t\t\treturn false\n    \t\t\t}\n    \t\t\tconst regex = /^\\s*data:([a-z]+\\/[a-z]+(;[a-z\\-]+=[a-z\\-]+)?)?(;base64)?,[a-z0-9!$&',()*+;=\\-._~:@\\/?%\\s]*\\s*$/i\n    \t\t\treturn !!str.match(regex)\n  \t\t\t},\n  \t\t\tgetBoundedX:function (x, scale) {\n    \t\t\tvar image = this.state.image\n    \t\t\tvar dimensions = this.getDimensions()\n    \t\t\tlet widthDiff = Math.floor((image.width - dimensions.width / scale) / 2)\n    \t\t\twidthDiff = Math.max(0, widthDiff)\n\n    \t\t\treturn Math.max(-widthDiff, Math.min(x, widthDiff))\n  \t\t\t},\n\t\t\tgetBoundedY:function (y, scale) {\n    \t\t\tvar image = this.state.image\n    \t\t\tvar dimensions = this.getDimensions()\n    \t\t\tlet heightDiff = Math.floor((image.height - dimensions.height / scale) / 2)\n    \t\t\theightDiff = Math.max(0, heightDiff)\n\t\t\t\treturn Math.max(-heightDiff, Math.min(y, heightDiff))\n  \t\t\t},\n            paintImage: function (context, image, border) {\n                if (image.resource) {\n                    var position = this.calculatePosition(image, border)\n                    context.save()\n                    context.globalCompositeOperation = 'destination-over'\n                    context.drawImage(image.resource, position.x, position.y, position.width, position.height)\n                    context.restore()\n                }\n            },\n            calculatePosition:function (image, border) {\n                var image = image || this.state.image\n\n                var dimensions = this.getDimensions()\n                var width = image.width * this.scale\n                var height = image.height * this.scale\n\n                var widthDiff = (width - dimensions.width) / 2\n                var heightDiff = (height - dimensions.height) / 2\n                var x = image.x * this.scale - widthDiff + border\n                var y = image.y * this.scale - heightDiff + border\n                return {\n                    x,\n                    y,\n                    height,\n                    width\n                }\n            },\n            changeScale:function(sc){\n                this.scale = sc\n            },\n            redraw:function(){\n                    this.context.clearRect(0, 0, this.getDimensions().canvas.width, this.getDimensions().canvas.height)\n                    this.paint()\n                    this.paintImage(this.context, this.state.image, this.border)\n            },\n            getImage:function(){\n                const cropRect = this.getCroppingRect()\n                const image = this.state.image\n\n                // get actual pixel coordinates\n                cropRect.x *= image.resource.width\n                cropRect.y *= image.resource.height\n                cropRect.width *= image.resource.width\n                cropRect.height *= image.resource.height\n\n                // create a canvas with the correct dimensions\n                const canvas = document.createElement('canvas')\n                canvas.width = cropRect.width\n                canvas.height = cropRect.height\n\n                // draw the full-size image at the correct position,\n                // the image gets truncated to the size of the canvas.\n                canvas.getContext('2d').drawImage(image.resource, -cropRect.x, -cropRect.y)\n\n                return canvas\n            },\n            getImageScaled: function(){\n                const { width, height } = this.getDimensions()\n\n                const canvas = document.createElement('canvas')\n                canvas.width = width\n                canvas.height = height\n\n                // don't paint a border here, as it is the resulting image\n                this.paintImage(canvas.getContext('2d'), this.state.image, 0)\n\n                return canvas\n            },\n            getCroppingRect: function () {\n                const dim = this.getDimensions()\n                const frameRect = { x: dim.border, y: dim.border, width: dim.width, height: dim.height }\n                const imageRect = this.calculatePosition(this.state.image, dim.border)\n                return {\n                    x: (frameRect.x - imageRect.x) / imageRect.width,\n                    y: (frameRect.y - imageRect.y) / imageRect.height,\n                    width: frameRect.width / imageRect.width,\n                    height: frameRect.height / imageRect.height\n                }\n            },\n            clicked:function(e){\n                if(this.dragged == true)\n                {\n                    this.dragged = false\n                }\n                else\n                {\n                    document.getElementById('ab-1').click()\n                }\n            },\n            fileSelected:function(e){\n                var files = e.target.files || e.dataTransfer.files;\n                if (!files.length)\n                    return;\n                var image     = new Image();\n                var reader    = new FileReader();\n                reader.onload = (e) => {\n                    this.loadImage(e.target.result)\n                };\n                reader.readAsDataURL(files[0]);\n            }\n\t\t},\n\n\t\twatch:{\n\t\t\tstate:{\n                handler:function(val,oldval){\n                    if(this.imageLoaded == true)\n                        this.redraw();\n                },\n                deep:true\n            },\n            scale:function(){\n                if(this.imageLoaded == true)\n                    this.redraw();\n            }\n\t\t}\n\t}\n\n\n</script>\n\n\n// WEBPACK FOOTER //\n// VueAvatar.vue?dfbb375a","<template>\n\t<input\n          v-model=\"scale\"\n          type=\"range\"\n          :min=\"min\"\n          :max=\"max\"\n          :step=\"step\"\n          :style=\"{ width:width +'px'}\"\n        />\n</template>\n<script >\n\texport default{\n\t\tprops:{\n\t\t\twidth:{\n\t\t\t\ttype:Number,\n\t\t\t\tdefault:200\n\t\t\t},\n\t\t\tmin:{\n\t\t\t\ttype:Number,\n\t\t\t\tdefault:1\n\t\t\t},\n\t\t\tmax:{\n\t\t\t\ttype:Number,\n\t\t\t\tdefault:2\n\t\t\t},\n\t\t\tstep:{\n\t\t\t\ttype:Number,\n\t\t\t\tdefault:0.01\n\t\t\t},\n\n\t\t},\n\t\tmethods:{\n\t\t\tsetScale:function(scale){\n\t\t\t\tthis.scale = scale\n\t\t\t}\n\t\t},\n\t\tdata:function(){\n\t\t\treturn {\n\t\t\t\tscale:1\n\t\t\t}\n\t\t},\n\t\twatch:{\n\t\t\tscale:function(){\n\t\t\t\tthis.$emit('vue-avatar-editor-scale:change-scale', this.scale)\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n\n// WEBPACK FOOTER //\n// VueAvatarScale.vue?f7c9fec6","module.exports = \" <canvas :width=canvasWidth :height=canvasHeight ref=canvas @dragover.prevent @drop=onDrop @mousedown=onDragStart @mouseup=onDragEnd @mousemove=onMouseMove @click=clicked v-bind:class=cursor> <input type=file id=ab-1 @change=fileSelected style=display:none> </canvas>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-html-loader!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/VueAvatar.vue\n// module id = 4\n// module chunks = 1","module.exports = \" <input v-model=scale type=range :min=min :max=max :step=step :style=\\\"{ width:width +'px'}\\\"/> \";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-html-loader!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/VueAvatarScale.vue\n// module id = 5\n// module chunks = 1","var __vue_script__, __vue_template__\nrequire(\"!!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!./../../node_modules/vue-loader/lib/style-rewriter.js!./../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./VueAvatar.vue\")\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!./../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./VueAvatar.vue\")\n__vue_template__ = require(\"!!vue-html-loader!./../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./VueAvatar.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nif (__vue_template__) {\n(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/VueAvatar.vue\n// module id = 6\n// module chunks = 1","var __vue_script__, __vue_template__\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!./../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./VueAvatarScale.vue\")\n__vue_template__ = require(\"!!vue-html-loader!./../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./VueAvatarScale.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nif (__vue_template__) {\n(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/VueAvatarScale.vue\n// module id = 7\n// module chunks = 1"],"sourceRoot":""}