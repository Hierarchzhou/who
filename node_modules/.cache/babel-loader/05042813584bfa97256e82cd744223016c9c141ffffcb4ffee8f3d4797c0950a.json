{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, createElementBlock as _createElementBlock, createVNode as _createVNode, Fragment as _Fragment } from \"vue\";\nconst _hoisted_1 = {\n  class: \"chat-container\"\n};\nconst _hoisted_2 = {\n  class: \"chat-interface\"\n};\nconst _hoisted_3 = {\n  class: \"chat-header\"\n};\nconst _hoisted_4 = {\n  class: \"channel-info\"\n};\nconst _hoisted_5 = {\n  class: \"channel-hash\"\n};\nconst _hoisted_6 = {\n  class: \"channel-name\"\n};\nconst _hoisted_7 = {\n  class: \"channel-topic\"\n};\nconst _hoisted_8 = {\n  class: \"header-actions\"\n};\nconst _hoisted_9 = {\n  class: \"action-buttons\"\n};\nconst _hoisted_10 = {\n  class: \"icon\"\n};\nconst _hoisted_11 = [\"src\"];\nconst _hoisted_12 = {\n  class: \"current-username\"\n};\nconst _hoisted_13 = {\n  class: \"chat-main\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_UserNameInput = _resolveComponent(\"UserNameInput\");\n  const _component_ThemeSelector = _resolveComponent(\"ThemeSelector\");\n  const _component_MessageList = _resolveComponent(\"MessageList\");\n  const _component_MessageInput = _resolveComponent(\"MessageInput\");\n  const _component_UserProfileEditor = _resolveComponent(\"UserProfileEditor\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" Áî®Êà∑ÂêçËæìÂÖ•ÁïåÈù¢ÔºåÂΩìÁî®Êà∑Êú™ËÆæÁΩÆÊòµÁß∞Êó∂ÊòæÁ§∫ \"), !$setup.username ? (_openBlock(), _createBlock(_component_UserNameInput, {\n    key: 0,\n    onSetUsername: $options.setUsername\n  }, null, 8 /* PROPS */, [\"onSetUsername\"])) : (_openBlock(), _createElementBlock(_Fragment, {\n    key: 1\n  }, [_createCommentVNode(\" ËÅäÂ§©ÁïåÈù¢ÔºåÂΩìÁî®Êà∑Â∑≤ËÆæÁΩÆÊòµÁß∞Êó∂ÊòæÁ§∫ \"), _createElementVNode(\"div\", _hoisted_2, [_createCommentVNode(\" È¢ëÈÅìÂ§¥ÈÉ® \"), _createElementVNode(\"header\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"span\", _hoisted_5, _toDisplayString($props.currentChannel?.type === 'voice' ? 'üîä' : '#'), 1 /* TEXT */), _createElementVNode(\"h2\", _hoisted_6, _toDisplayString($props.currentChannel?.name || 'general'), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_7, _toDisplayString($props.currentChannel?.topic || 'Ê¨¢ËøéÊù•Âà∞ËÅäÂ§©È¢ëÈÅìÔºÅ'), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"div\", _hoisted_9, [$props.currentChannel?.type === 'voice' ? (_openBlock(), _createElementBlock(\"button\", {\n    key: 0,\n    class: _normalizeClass([\"icon-button\", {\n      active: $setup.isInVoiceChannel\n    }]),\n    title: \"Âä†ÂÖ•ËØ≠Èü≥È¢ëÈÅì\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.toggleVoiceChannel && $options.toggleVoiceChannel(...args))\n  }, [_createElementVNode(\"span\", _hoisted_10, _toDisplayString($setup.isInVoiceChannel ? 'üé§' : 'üîá'), 1 /* TEXT */)], 2 /* CLASS */)) : _createCommentVNode(\"v-if\", true), _cache[3] || (_cache[3] = _createElementVNode(\"button\", {\n    class: \"icon-button\",\n    title: \"Pin Messages\"\n  }, [_createElementVNode(\"span\", {\n    class: \"icon\"\n  }, \"üìå\")], -1 /* HOISTED */)), _cache[4] || (_cache[4] = _createElementVNode(\"button\", {\n    class: \"icon-button\",\n    title: \"Show Member List\"\n  }, [_createElementVNode(\"span\", {\n    class: \"icon\"\n  }, \"üë•\")], -1 /* HOISTED */)), _createVNode(_component_ThemeSelector)]), _createElementVNode(\"div\", {\n    class: \"user-info\",\n    onClick: _cache[2] || (_cache[2] = (...args) => $options.openProfileEditor && $options.openProfileEditor(...args))\n  }, [_createElementVNode(\"div\", {\n    class: _normalizeClass([\"user-status-indicator\", {\n      online: true\n    }])\n  }), _createElementVNode(\"img\", {\n    src: $setup.userAvatar || $setup.getFallbackAvatarUrl(),\n    alt: \"Áî®Êà∑Â§¥ÂÉè\",\n    class: \"user-avatar\",\n    onError: _cache[1] || (_cache[1] = (...args) => $setup.handleAvatarError && $setup.handleAvatarError(...args))\n  }, null, 40 /* PROPS, NEED_HYDRATION */, _hoisted_11), _createElementVNode(\"span\", _hoisted_12, _toDisplayString($setup.username), 1 /* TEXT */)])])]), _createElementVNode(\"div\", _hoisted_13, [_createVNode(_component_MessageList, {\n    messages: $setup.filteredMessages,\n    currentUsername: $setup.username,\n    ref: \"messageList\",\n    onOpenProfileEditor: $options.openProfileEditor\n  }, null, 8 /* PROPS */, [\"messages\", \"currentUsername\", \"onOpenProfileEditor\"])]), _createVNode(_component_MessageInput, {\n    placeholder: $setup.getInputPlaceholder,\n    disabled: $setup.isInputDisabled,\n    onSendMessage: $options.sendMessage\n  }, null, 8 /* PROPS */, [\"placeholder\", \"disabled\", \"onSendMessage\"])])], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */)), _createCommentVNode(\" ‰∏™‰∫∫ËµÑÊñôÁºñËæëÂô® \"), _createVNode(_component_UserProfileEditor, {\n    isOpen: $data.showProfileEditor,\n    currentUserInfo: $data.currentUserInfo,\n    onClose: $options.closeProfileEditor,\n    onUpdateProfile: $options.updateProfile\n  }, null, 8 /* PROPS */, [\"isOpen\", \"currentUserInfo\", \"onClose\", \"onUpdateProfile\"])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createCommentVNode","$setup","username","_createBlock","_component_UserNameInput","key","onSetUsername","$options","setUsername","_Fragment","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_toDisplayString","$props","currentChannel","type","_hoisted_6","name","_hoisted_7","topic","_hoisted_8","_hoisted_9","_normalizeClass","active","isInVoiceChannel","title","onClick","_cache","args","toggleVoiceChannel","_hoisted_10","_createVNode","_component_ThemeSelector","openProfileEditor","online","src","userAvatar","getFallbackAvatarUrl","alt","onError","handleAvatarError","_hoisted_11","_hoisted_12","_hoisted_13","_component_MessageList","messages","filteredMessages","currentUsername","ref","onOpenProfileEditor","_component_MessageInput","placeholder","getInputPlaceholder","disabled","isInputDisabled","onSendMessage","sendMessage","_component_UserProfileEditor","isOpen","$data","showProfileEditor","currentUserInfo","onClose","closeProfileEditor","onUpdateProfile","updateProfile"],"sources":["C:\\Users\\Administrator\\Desktop\\who\\src\\components\\chat\\ChatContainer.vue"],"sourcesContent":["<template>\n  <div class=\"chat-container\">\n    <!-- Áî®Êà∑ÂêçËæìÂÖ•ÁïåÈù¢ÔºåÂΩìÁî®Êà∑Êú™ËÆæÁΩÆÊòµÁß∞Êó∂ÊòæÁ§∫ -->\n    <UserNameInput \n      v-if=\"!username\" \n      @set-username=\"setUsername\" \n    />\n    \n    <!-- ËÅäÂ§©ÁïåÈù¢ÔºåÂΩìÁî®Êà∑Â∑≤ËÆæÁΩÆÊòµÁß∞Êó∂ÊòæÁ§∫ -->\n    <div v-else class=\"chat-interface\">\n      <!-- È¢ëÈÅìÂ§¥ÈÉ® -->\n      <header class=\"chat-header\">\n        <div class=\"channel-info\">\n          <span class=\"channel-hash\">{{ currentChannel?.type === 'voice' ? 'üîä' : '#' }}</span>\n          <h2 class=\"channel-name\">{{ currentChannel?.name || 'general' }}</h2>\n          <div class=\"channel-topic\">\n            {{ currentChannel?.topic || 'Ê¨¢ËøéÊù•Âà∞ËÅäÂ§©È¢ëÈÅìÔºÅ' }}\n          </div>\n        </div>\n        \n        <div class=\"header-actions\">\n          <div class=\"action-buttons\">\n            <button \n              v-if=\"currentChannel?.type === 'voice'\"\n              class=\"icon-button\" \n              :class=\"{ active: isInVoiceChannel }\"\n              title=\"Âä†ÂÖ•ËØ≠Èü≥È¢ëÈÅì\"\n              @click=\"toggleVoiceChannel\"\n            >\n              <span class=\"icon\">{{ isInVoiceChannel ? 'üé§' : 'üîá' }}</span>\n            </button>\n            <button class=\"icon-button\" title=\"Pin Messages\">\n              <span class=\"icon\">üìå</span>\n            </button>\n            <button class=\"icon-button\" title=\"Show Member List\">\n              <span class=\"icon\">üë•</span>\n            </button>\n            <ThemeSelector />\n          </div>\n          \n          <div class=\"user-info\" @click=\"openProfileEditor\">\n            <div class=\"user-status-indicator\" :class=\"{ online: true }\"></div>\n            <img \n              :src=\"userAvatar || getFallbackAvatarUrl()\" \n              alt=\"Áî®Êà∑Â§¥ÂÉè\" \n              class=\"user-avatar\"\n              @error=\"handleAvatarError\"\n            >\n            <span class=\"current-username\">{{ username }}</span>\n          </div>\n        </div>\n      </header>\n      \n      <div class=\"chat-main\">\n        <MessageList \n          :messages=\"filteredMessages\" \n          :currentUsername=\"username\" \n          ref=\"messageList\"\n          @open-profile-editor=\"openProfileEditor\"\n        />\n      </div>\n      \n      <MessageInput \n        :placeholder=\"getInputPlaceholder\"\n        :disabled=\"isInputDisabled\"\n        @send-message=\"sendMessage\" \n      />\n    </div>\n    \n    <!-- ‰∏™‰∫∫ËµÑÊñôÁºñËæëÂô® -->\n    <UserProfileEditor \n      :isOpen=\"showProfileEditor\"\n      :currentUserInfo=\"currentUserInfo\"\n      @close=\"closeProfileEditor\"\n      @update-profile=\"updateProfile\"\n    />\n  </div>\n</template>\n\n<script>\nimport UserNameInput from './UserNameInput.vue';\nimport MessageList from './MessageList.vue';\nimport MessageInput from './MessageInput.vue';\nimport ThemeSelector from './ThemeSelector.vue';\nimport UserProfileEditor from './UserProfileEditor.vue';\nimport axios from 'axios';\nimport { handleAvatarError, getFallbackAvatarUrl } from '../../utils/avatarUtils';\nimport { useStore } from 'vuex';\nimport { computed, ref } from 'vue';\n\nexport default {\n  name: 'ChatContainer',\n  components: {\n    UserNameInput,\n    MessageList,\n    MessageInput,\n    ThemeSelector,\n    UserProfileEditor\n  },\n  props: {\n    currentUser: {\n      type: Object,\n      required: true\n    },\n    currentServer: {\n      type: Object,\n      default: () => ({\n        id: 'home',\n        name: 'general',\n        description: 'Welcome to the chat channel!'\n      })\n    },\n    currentChannel: {\n      type: Object,\n      default: null\n    }\n  },\n  emits: ['update-online-users', 'open-profile-editor'],\n  setup(props) {\n    const store = useStore();\n    const isInVoiceChannel = ref(false);\n    \n    // ‰ΩøÁî®ËÆ°ÁÆóÂ±ûÊÄß‰ªéstoreËé∑ÂèñÁî®Êà∑‰ø°ÊÅØ\n    const username = computed(() => store.getters['userProfile/username']);\n    const userAvatar = computed(() => store.getters['userProfile/avatar']);\n    \n    // ËøáÊª§ÂΩìÂâçÈ¢ëÈÅìÁöÑÊ∂àÊÅØ\n    const filteredMessages = computed(() => {\n      if (!props.currentChannel) return [];\n      return store.getters['messages/channelMessages'](props.currentChannel.id);\n    });\n\n    // Ëé∑ÂèñËæìÂÖ•Ê°ÜÂç†‰ΩçÁ¨¶ÊñáÊú¨\n    const getInputPlaceholder = computed(() => {\n      if (!props.currentChannel) return 'ÈÄâÊã©‰∏Ä‰∏™È¢ëÈÅìÂºÄÂßãËÅäÂ§©';\n      return `ÂèëÈÄÅÊ∂àÊÅØÂà∞ ${props.currentChannel.type === 'voice' ? 'üîä' : '#'}${props.currentChannel.name}`;\n    });\n\n    // Âà§Êñ≠ËæìÂÖ•Ê°ÜÊòØÂê¶Á¶ÅÁî®\n    const isInputDisabled = computed(() => {\n      return !props.currentChannel || \n             (props.currentChannel.type === 'voice' && !isInVoiceChannel.value);\n    });\n\n    return {\n      username,\n      userAvatar,\n      filteredMessages,\n      getInputPlaceholder,\n      isInputDisabled,\n      isInVoiceChannel,\n      getFallbackAvatarUrl,\n      handleAvatarError\n    };\n  },\n  data() {\n    return {\n      messages: [], // Ê∂àÊÅØÂàóË°®\n      onlineUsers: [], // Âú®Á∫øÁî®Êà∑ÂàóË°®\n      apiUrl: 'http://localhost:3001/api/messages', // Ê∂àÊÅØAPIÂú∞ÂùÄ\n      usersApiUrl: 'http://localhost:3001/api/users', // Áî®Êà∑APIÂú∞ÂùÄ\n      pollingInterval: null, // Áî®‰∫éËΩÆËØ¢Ê∂àÊÅØÁöÑËÆ°Êó∂Âô®\n      onlinePollingInterval: null, // Áî®‰∫éËΩÆËØ¢Âú®Á∫øÁî®Êà∑ÁöÑËÆ°Êó∂Âô®\n      currentTheme: localStorage.getItem('chat-theme') || 'discord', // ÂΩìÂâç‰∏ªÈ¢ò\n      showProfileEditor: false, // ÊòØÂê¶ÊòæÁ§∫‰∏™‰∫∫ËµÑÊñôÁºñËæëÂô®\n      currentUserInfo: {} // ÂΩìÂâçÁî®Êà∑‰ø°ÊÅØ\n    }\n  },\n  watch: {\n    // ÁõëÂê¨Âú®Á∫øÁî®Êà∑ÂèòÂåñÔºåÂêëÁà∂ÁªÑ‰ª∂ÂèëÈÄÅÊõ¥Êñ∞‰∫ã‰ª∂\n    onlineUsers: {\n      handler(newValue) {\n        this.$emit('update-online-users', newValue);\n      },\n      deep: true\n    },\n    // ÁõëÂê¨ÊúçÂä°Âô®ÂèòÂåñÔºåÈáçÊñ∞Âä†ËΩΩÊ∂àÊÅØ\n    'currentServer.id': {\n      handler(newServerId) {\n        if (newServerId) {\n          this.loadServerMessages(newServerId);\n        }\n      },\n      immediate: true\n    }\n  },\n  created() {\n    // ‰ªélocalStorageÊÅ¢Â§çÁî®Êà∑‰ø°ÊÅØ\n    const savedUsername = localStorage.getItem('chat-username');\n    const savedAvatar = localStorage.getItem('chat-avatar');\n    \n    if (savedUsername && savedAvatar) {\n      this.$store.dispatch('userProfile/updateProfile', {\n        username: savedUsername,\n        avatar: savedAvatar\n      });\n    }\n  },\n  mounted() {\n    // Â¶ÇÊûúÁî®Êà∑Â∑≤ÁôªÂΩïÔºåËé∑ÂèñÊ∂àÊÅØÂíåÂú®Á∫øÁî®Êà∑\n    if (this.username) {\n      this.fetchMessages();\n      this.fetchOnlineUsers();\n      \n      // ËÆæÁΩÆËΩÆËØ¢\n      this.pollingInterval = setInterval(this.fetchMessages, 3000);\n      this.onlinePollingInterval = setInterval(this.fetchOnlineUsers, 5000);\n    }\n    \n    // Â∫îÁî®‰øùÂ≠òÁöÑ‰∏ªÈ¢ò\n    document.body.classList.add(`theme-${this.currentTheme}`);\n  },\n  beforeUnmount() {\n    // Ê∏ÖÈô§ËΩÆËØ¢\n    clearInterval(this.pollingInterval);\n    clearInterval(this.onlinePollingInterval);\n  },\n  methods: {\n    // ËÆæÁΩÆÁî®Êà∑ÂêçÂíåÂ§¥ÂÉè\n    setUsername(userData) {\n      this.$store.dispatch('userProfile/updateProfile', userData);\n      \n      // ‰øùÂ≠òÂà∞localStorage\n      localStorage.setItem('chat-username', userData.username);\n      localStorage.setItem('chat-avatar', userData.avatar);\n      \n      // Ê≥®ÂÜåÁî®Êà∑\n      this.registerUser();\n      \n      // Ëé∑ÂèñÊ∂àÊÅØÂíåÂú®Á∫øÁî®Êà∑\n      this.fetchMessages();\n      this.fetchOnlineUsers();\n      \n      // ËÆæÁΩÆËΩÆËØ¢\n      this.pollingInterval = setInterval(this.fetchMessages, 3000);\n      this.onlinePollingInterval = setInterval(this.fetchOnlineUsers, 5000);\n    },\n    \n    // Ê≥®ÂÜåÁî®Êà∑\n    async registerUser() {\n      try {\n        await axios.post(`${this.usersApiUrl}/register`, {\n          username: this.username,\n          avatar: this.userAvatar\n        });\n        console.log('Áî®Êà∑Ê≥®ÂÜåÊàêÂäü');\n      } catch (error) {\n        console.error('Áî®Êà∑Ê≥®ÂÜåÂ§±Ë¥•:', error);\n      }\n    },\n    \n    // Ëé∑ÂèñÊ∂àÊÅØ\n    async fetchMessages() {\n      try {\n        const response = await axios.get(this.apiUrl);\n        this.messages = response.data;\n        // ÊªöÂä®Âà∞Â∫ïÈÉ®\n        this.$nextTick(() => {\n          if (this.$refs.messageList) {\n            this.$refs.messageList.scrollToBottom();\n          }\n        });\n      } catch (error) {\n        console.error('Ëé∑ÂèñÊ∂àÊÅØÂ§±Ë¥•:', error);\n        // ÂºÄÂèëÈò∂ÊÆµÂ¶ÇÊûúAPIÊú™Â∞±Áª™Ôºå‰ΩøÁî®Ê®°ÊãüÊï∞ÊçÆ\n        if (this.messages.length === 0) {\n          this.messages = [\n            { \n              id: 1, \n              sender: 'System', \n              content: 'Ê¨¢ËøéÊù•Âà∞ËÅäÂ§©ÂÆ§!', \n              timestamp: new Date().toISOString(),\n              avatar: '/avatars/default.png'\n            }\n          ];\n        }\n      }\n    },\n    \n    // Ëé∑ÂèñÂú®Á∫øÁî®Êà∑\n    async fetchOnlineUsers() {\n      try {\n        const response = await axios.get(`${this.usersApiUrl}/online`);\n        this.onlineUsers = response.data;\n      } catch (error) {\n        console.error('Ëé∑ÂèñÂú®Á∫øÁî®Êà∑Â§±Ë¥•:', error);\n        // ÂºÄÂèëÈò∂ÊÆµÂ¶ÇÊûúAPIÊú™Â∞±Áª™Ôºå‰ΩøÁî®Ê®°ÊãüÊï∞ÊçÆ\n        if (this.onlineUsers.length === 0) {\n          this.onlineUsers = [\n            { username: this.username, avatar: this.userAvatar }\n          ];\n        }\n      }\n    },\n    \n    // Âä†ËΩΩÊúçÂä°Âô®ÁâπÂÆöÁöÑÊ∂àÊÅØ\n    loadServerMessages(serverId) {\n      const key = `server-messages-${serverId}`;\n      const savedMessages = localStorage.getItem(key);\n      this.messages = savedMessages ? JSON.parse(savedMessages) : [];\n    },\n\n    // ‰øùÂ≠òÊúçÂä°Âô®Ê∂àÊÅØ\n    saveServerMessages() {\n      const key = `server-messages-${this.currentServer.id}`;\n      localStorage.setItem(key, JSON.stringify(this.messages));\n    },\n\n    // ÂèëÈÄÅÊ∂àÊÅØ\n    async sendMessage(content) {\n      if (!content.trim() || !this.currentChannel) return;\n      \n      try {\n        const messageData = {\n          channelId: this.currentChannel.id,\n          content: content.trim(),\n          sender: this.username,\n          avatar: this.userAvatar,\n          timestamp: new Date().toISOString()\n        };\n\n        // ÂèëÈÄÅÊ∂àÊÅØÂà∞store\n        await this.$store.dispatch('messages/sendMessage', messageData);\n        \n        // ÊªöÂä®Âà∞Â∫ïÈÉ®\n        this.$nextTick(() => {\n          if (this.$refs.messageList) {\n            this.$refs.messageList.scrollToBottom();\n          }\n        });\n      } catch (error) {\n        console.error('ÂèëÈÄÅÊ∂àÊÅØÂ§±Ë¥•:', error);\n      }\n    },\n    // ÊâìÂºÄ‰∏™‰∫∫ËµÑÊñôÁºñËæëÂô®\n    openProfileEditor() {\n      this.$emit('open-profile-editor');\n    },\n    // ÂÖ≥Èó≠‰∏™‰∫∫ËµÑÊñôÁºñËæëÂô®\n    closeProfileEditor() {\n      this.showProfileEditor = false;\n    },\n    // Êõ¥Êñ∞Áî®Êà∑‰ø°ÊÅØ\n    updateProfile(updatedInfo) {\n      // Êõ¥Êñ∞store‰∏≠ÁöÑÁî®Êà∑‰ø°ÊÅØ\n      this.$store.dispatch('userProfile/updateProfile', updatedInfo);\n      \n      // ‰øùÂ≠òÂà∞localStorage\n      localStorage.setItem('chat-username', updatedInfo.username);\n      localStorage.setItem('chat-avatar', updatedInfo.avatar);\n      \n      // Êõ¥Êñ∞Ê∂àÊÅØÂéÜÂè≤‰∏≠ÁöÑÂ§¥ÂÉè\n      this.messages = this.messages.map(message => {\n        if (message.sender === updatedInfo.username) {\n          return { ...message, avatar: updatedInfo.avatar }; // Êõ¥Êñ∞ÂèëÈÄÅËÄÖÂ§¥ÂÉè\n        }\n        return message;\n      });\n      \n      // Ê≥®ÂÜåÁî®Êà∑\n      this.registerUser();\n      \n      // Ëé∑ÂèñÊ∂àÊÅØÂíåÂú®Á∫øÁî®Êà∑\n      this.fetchMessages();\n      this.fetchOnlineUsers();\n      \n      // ËÆæÁΩÆËΩÆËØ¢\n      this.pollingInterval = setInterval(this.fetchMessages, 3000);\n      this.onlinePollingInterval = setInterval(this.fetchOnlineUsers, 5000);\n    },\n    // ÂàáÊç¢ËØ≠Èü≥È¢ëÈÅìÁä∂ÊÄÅ\n    toggleVoiceChannel() {\n      if (this.currentChannel?.type !== 'voice') return;\n      this.isInVoiceChannel = !this.isInVoiceChannel;\n      // TODO: ÂÆûÁé∞ËØ≠Èü≥È¢ëÈÅìÁöÑÂä†ÂÖ•/ÈÄÄÂá∫ÈÄªËæë\n    }\n  }\n}\n</script>\n\n<style scoped>\n.chat-container {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  height: 100vh;\n  background-color: var(--background-primary);\n}\n\n.chat-interface {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n}\n\n.chat-header {\n  height: 48px;\n  padding: 0 16px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  background-color: var(--background-primary);\n  border-bottom: 1px solid var(--background-tertiary);\n  flex-shrink: 0;\n}\n\n.channel-info {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.channel-hash {\n  color: var(--text-muted);\n  font-size: 24px;\n  font-weight: 300;\n}\n\n.channel-name {\n  color: var(--header-primary);\n  font-size: 16px;\n  font-weight: 600;\n}\n\n.channel-topic {\n  color: var(--text-muted);\n  font-size: 14px;\n  margin-left: 12px;\n  padding-left: 12px;\n  border-left: 1px solid var(--background-accent);\n}\n\n.header-actions {\n  display: flex;\n  align-items: center;\n  gap: 16px;\n}\n\n.action-buttons {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.icon-button {\n  width: 32px;\n  height: 32px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: none;\n  border: none;\n  color: var(--text-muted);\n  font-size: 20px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  border-radius: 4px;\n}\n\n.icon-button:hover {\n  color: var(--text-normal);\n  background-color: var(--background-modifier-hover);\n}\n\n.icon-button.active {\n  color: var(--text-normal);\n  background-color: var(--background-modifier-selected);\n}\n\n.chat-main {\n  flex: 1;\n  overflow-y: auto;\n}\n\n.user-info {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 4px 8px;\n  border-radius: 4px;\n  cursor: pointer;\n  transition: background-color 0.2s ease;\n}\n\n.user-info:hover {\n  background-color: var(--background-modifier-hover);\n}\n\n.user-status-indicator {\n  width: 8px;\n  height: 8px;\n  border-radius: 50%;\n  background-color: var(--online-indicator);\n}\n\n.user-avatar {\n  width: 32px;\n  height: 32px;\n  border-radius: 50%;\n  object-fit: cover;\n}\n\n.current-username {\n  color: var(--header-primary);\n  font-size: 14px;\n  font-weight: 500;\n}\n\n/* ÂìçÂ∫îÂºèÊ†∑Âºè */\n@media (max-width: 768px) {\n  .channel-topic {\n    display: none;\n  }\n  \n  .action-buttons {\n    display: none;\n  }\n  \n  .chat-header {\n    padding: 0 8px;\n  }\n  \n  .user-info {\n    padding: 4px;\n  }\n  \n  .current-username {\n    display: none;\n  }\n}\n</style> \n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}