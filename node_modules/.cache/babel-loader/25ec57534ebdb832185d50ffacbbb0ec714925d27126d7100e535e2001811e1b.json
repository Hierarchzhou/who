{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"app-container\"\n};\nconst _hoisted_2 = {\n  key: 0,\n  class: \"login-container\"\n};\nconst _hoisted_3 = {\n  key: 1,\n  class: \"discord-layout\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_LoginForm = _resolveComponent(\"LoginForm\");\n  const _component_ServerList = _resolveComponent(\"ServerList\");\n  const _component_OnlineUsersSidebar = _resolveComponent(\"OnlineUsersSidebar\");\n  const _component_ChatContainer = _resolveComponent(\"ChatContainer\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [!$data.username ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [_createVNode(_component_LoginForm, {\n    onLogin: $options.setUsername\n  }, null, 8 /* PROPS */, [\"onLogin\"])])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [_createCommentVNode(\" 服务器列表 \"), _createVNode(_component_ServerList), _createCommentVNode(\" 在线用户列表 - 将在ChatContainer中移出并放在这里 \"), _createVNode(_component_OnlineUsersSidebar, {\n    onlineUsers: $data.onlineUsers,\n    currentUsername: $data.username\n  }, null, 8 /* PROPS */, [\"onlineUsers\", \"currentUsername\"]), _createCommentVNode(\" 聊天容器 \"), _createVNode(_component_ChatContainer, {\n    currentUser: {\n      username: $data.username,\n      avatar: $data.avatar\n    },\n    onUpdateOnlineUsers: $options.updateOnlineUsers\n  }, null, 8 /* PROPS */, [\"currentUser\", \"onUpdateOnlineUsers\"])]))]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_hoisted_1","$data","username","_hoisted_2","_createVNode","_component_LoginForm","onLogin","$options","setUsername","_hoisted_3","_createCommentVNode","_component_ServerList","_component_OnlineUsersSidebar","onlineUsers","currentUsername","_component_ChatContainer","currentUser","avatar","onUpdateOnlineUsers","updateOnlineUsers"],"sources":["C:\\Users\\Administrator\\Desktop\\discord-chat-app\\fack\\just-do-it\\src\\App.vue"],"sourcesContent":["<template>\r\n  <div class=\"app-container\">\r\n    <div v-if=\"!username\" class=\"login-container\">\r\n      <LoginForm @login=\"setUsername\" />\r\n    </div>\r\n    <div v-else class=\"discord-layout\">\r\n      <!-- 服务器列表 -->\r\n      <ServerList />\r\n      \r\n      <!-- 在线用户列表 - 将在ChatContainer中移出并放在这里 -->\r\n      <OnlineUsersSidebar \r\n        :onlineUsers=\"onlineUsers\" \r\n        :currentUsername=\"username\"\r\n      />\r\n      \r\n      <!-- 聊天容器 -->\r\n      <ChatContainer \r\n        :currentUser=\"{ username, avatar }\" \r\n        @update-online-users=\"updateOnlineUsers\"\r\n      />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport LoginForm from './components/auth/LoginForm.vue'\r\nimport ChatContainer from './components/chat/ChatContainer.vue'\r\nimport ServerList from './components/chat/ServerList.vue'\r\nimport OnlineUsersSidebar from './components/chat/OnlineUsersSidebar.vue'\r\n\r\nexport default {\r\n  name: 'App',\r\n  components: {\r\n    LoginForm,\r\n    ChatContainer,\r\n    ServerList,\r\n    OnlineUsersSidebar\r\n  },\r\n  data() {\r\n    return {\r\n      username: '',\r\n      avatar: '',\r\n      onlineUsers: [] // 在线用户列表移到App组件中管理\r\n    }\r\n  },\r\n  created() {\r\n    // 从localStorage获取用户信息\r\n    const savedUsername = localStorage.getItem('chat-username')\r\n    const savedAvatar = localStorage.getItem('chat-avatar')\r\n    \r\n    if (savedUsername) {\r\n      this.username = savedUsername\r\n      this.avatar = savedAvatar || ''\r\n    }\r\n    \r\n    // 应用保存的主题\r\n    const savedTheme = localStorage.getItem('chat-theme') || 'discord'\r\n    document.body.classList.add(`theme-${savedTheme}`)\r\n  },\r\n  methods: {\r\n    setUsername(userData) {\r\n      this.username = userData.username\r\n      this.avatar = userData.avatar || ''\r\n      \r\n      // 保存用户信息到localStorage\r\n      localStorage.setItem('chat-username', this.username)\r\n      if (this.avatar) {\r\n        localStorage.setItem('chat-avatar', this.avatar)\r\n      }\r\n    },\r\n    \r\n    // 更新在线用户列表\r\n    updateOnlineUsers(users) {\r\n      this.onlineUsers = users;\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n/* 全局样式重置 */\r\n* {\r\n  margin: 0;\r\n  padding: 0;\r\n  box-sizing: border-box;\r\n}\r\n\r\nbody, html {\r\n  height: 100%;\r\n  width: 100%;\r\n  font-family: Avenir, Helvetica, Arial, sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  color: #2c3e50;\r\n}\r\n\r\n#app {\r\n  height: 100vh;\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.app-container {\r\n  min-height: 100vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.login-container {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  min-height: 100vh;\r\n  padding: 1rem;\r\n}\r\n\r\n/* Discord布局 */\r\n.discord-layout {\r\n  display: flex;\r\n  width: 100%;\r\n  height: 100vh;\r\n  overflow: hidden;\r\n}\r\n\r\n/* 响应式设计 */\r\n@media (max-width: 768px) {\r\n  .chat-main {\r\n    flex-direction: column;\r\n  }\r\n  \r\n  .discord-layout {\r\n    flex-direction: column;\r\n  }\r\n  \r\n  .server-list {\r\n    width: 100% !important;\r\n    height: auto !important;\r\n    flex-direction: row !important;\r\n    padding: 8px !important;\r\n  }\r\n  \r\n  .server-items {\r\n    flex-direction: row !important;\r\n    padding: 0 8px !important;\r\n  }\r\n  \r\n  .server-item {\r\n    margin-right: 8px !important;\r\n    margin-bottom: 0 !important;\r\n  }\r\n}\r\n</style>\r\n"],"mappings":";;EACOA,KAAK,EAAC;AAAe;;EAD5BC,GAAA;EAE0BD,KAAK,EAAC;;;EAFhCC,GAAA;EAKgBD,KAAK,EAAC;;;;;;;uBAJpBE,mBAAA,CAoBM,OApBNC,UAoBM,G,CAnBQC,KAAA,CAAAC,QAAQ,I,cAApBH,mBAAA,CAEM,OAFNI,UAEM,GADJC,YAAA,CAAkCC,oBAAA;IAAtBC,OAAK,EAAEC,QAAA,CAAAC;EAAW,qC,oBAEhCT,mBAAA,CAeM,OAfNU,UAeM,GAdJC,mBAAA,WAAc,EACdN,YAAA,CAAcO,qBAAA,GAEdD,mBAAA,sCAAyC,EACzCN,YAAA,CAGEQ,6BAAA;IAFCC,WAAW,EAAEZ,KAAA,CAAAY,WAAW;IACxBC,eAAe,EAAEb,KAAA,CAAAC;+DAGpBQ,mBAAA,UAAa,EACbN,YAAA,CAGEW,wBAAA;IAFCC,WAAW;MAAAd,QAAA,EAAID,KAAA,CAAAC,QAAQ;MAAAe,MAAA,EAAEhB,KAAA,CAAAgB;IAAM;IAC/BC,mBAAmB,EAAEX,QAAA,CAAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}