{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"app-container\"\n};\nconst _hoisted_2 = {\n  key: 0,\n  class: \"login-container\"\n};\nconst _hoisted_3 = {\n  key: 1,\n  class: \"discord-layout\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_LoginForm = _resolveComponent(\"LoginForm\");\n  const _component_ServerList = _resolveComponent(\"ServerList\");\n  const _component_OnlineUsersSidebar = _resolveComponent(\"OnlineUsersSidebar\");\n  const _component_ChatContainer = _resolveComponent(\"ChatContainer\");\n  const _component_UserProfileEditor = _resolveComponent(\"UserProfileEditor\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [!$data.username ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [_createVNode(_component_LoginForm, {\n    onLogin: $options.setUsername\n  }, null, 8 /* PROPS */, [\"onLogin\"])])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [_createCommentVNode(\" 服务器列表 \"), _createVNode(_component_ServerList), _createCommentVNode(\" 在线用户列表 \"), _createVNode(_component_OnlineUsersSidebar, {\n    onlineUsers: $data.onlineUsers,\n    currentUsername: $data.username,\n    onOpenProfileEditor: _ctx.openProfileEditor\n  }, null, 8 /* PROPS */, [\"onlineUsers\", \"currentUsername\", \"onOpenProfileEditor\"]), _createCommentVNode(\" 聊天容器 \"), _createVNode(_component_ChatContainer, {\n    currentUser: {\n      username: $data.username,\n      avatar: $data.avatar\n    },\n    onUpdateOnlineUsers: $options.updateOnlineUsers,\n    onOpenProfileEditor: _ctx.openProfileEditor\n  }, null, 8 /* PROPS */, [\"currentUser\", \"onUpdateOnlineUsers\", \"onOpenProfileEditor\"]), _createCommentVNode(\" 个人资料编辑器 \"), _ctx.showProfileEditor ? (_openBlock(), _createBlock(_component_UserProfileEditor, {\n    key: 0,\n    isOpen: _ctx.showProfileEditor,\n    onClose: _ctx.closeProfileEditor,\n    onUpdateProfile: _ctx.updateProfile\n  }, null, 8 /* PROPS */, [\"isOpen\", \"onClose\", \"onUpdateProfile\"])) : _createCommentVNode(\"v-if\", true)]))]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_hoisted_1","$data","username","_hoisted_2","_createVNode","_component_LoginForm","onLogin","$options","setUsername","_hoisted_3","_createCommentVNode","_component_ServerList","_component_OnlineUsersSidebar","onlineUsers","currentUsername","onOpenProfileEditor","_ctx","openProfileEditor","_component_ChatContainer","currentUser","avatar","onUpdateOnlineUsers","updateOnlineUsers","showProfileEditor","_createBlock","_component_UserProfileEditor","isOpen","onClose","closeProfileEditor","onUpdateProfile","updateProfile"],"sources":["C:\\Users\\Administrator\\Desktop\\discord-chat-app\\fack\\just-do-it\\src\\App.vue"],"sourcesContent":["<template>\n  <div class=\"app-container\">\n    <div v-if=\"!username\" class=\"login-container\">\n      <LoginForm @login=\"setUsername\" />\n    </div>\n    <div v-else class=\"discord-layout\">\n      <!-- 服务器列表 -->\n      <ServerList />\n      \n      <!-- 在线用户列表 -->\n      <OnlineUsersSidebar \n        :onlineUsers=\"onlineUsers\" \n        :currentUsername=\"username\"\n        @open-profile-editor=\"openProfileEditor\"\n      />\n      \n      <!-- 聊天容器 -->\n      <ChatContainer \n        :currentUser=\"{ username, avatar }\" \n        @update-online-users=\"updateOnlineUsers\"\n        @open-profile-editor=\"openProfileEditor\"\n      />\n\n      <!-- 个人资料编辑器 -->\n      <UserProfileEditor\n        v-if=\"showProfileEditor\"\n        :isOpen=\"showProfileEditor\"\n        @close=\"closeProfileEditor\"\n        @update-profile=\"updateProfile\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport LoginForm from './components/auth/LoginForm.vue'\nimport ChatContainer from './components/chat/ChatContainer.vue'\nimport ServerList from './components/chat/ServerList.vue'\nimport OnlineUsersSidebar from './components/chat/OnlineUsersSidebar.vue'\n\nexport default {\n  name: 'App',\n  components: {\n    LoginForm,\n    ChatContainer,\n    ServerList,\n    OnlineUsersSidebar\n  },\n  data() {\n    return {\n      username: '',\n      avatar: '',\n      onlineUsers: [] // 在线用户列表移到App组件中管理\n    }\n  },\n  created() {\n    // 从localStorage获取用户信息\n    const savedUsername = localStorage.getItem('chat-username')\n    const savedAvatar = localStorage.getItem('chat-avatar')\n    \n    if (savedUsername) {\n      this.username = savedUsername\n      this.avatar = savedAvatar || ''\n    }\n    \n    // 应用保存的主题\n    const savedTheme = localStorage.getItem('chat-theme') || 'discord'\n    document.body.classList.add(`theme-${savedTheme}`)\n  },\n  methods: {\n    setUsername(userData) {\n      this.username = userData.username\n      this.avatar = userData.avatar || ''\n      \n      // 保存用户信息到localStorage\n      localStorage.setItem('chat-username', this.username)\n      if (this.avatar) {\n        localStorage.setItem('chat-avatar', this.avatar)\n      }\n    },\n    \n    // 更新在线用户列表\n    updateOnlineUsers(users) {\n      this.onlineUsers = users;\n    }\n  }\n}\n</script>\n\n<style>\n/* 全局样式重置 */\n* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\nbody, html {\n  height: 100%;\n  width: 100%;\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  color: #2c3e50;\n}\n\n#app {\n  height: 100vh;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n}\n\n.app-container {\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n}\n\n.login-container {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 100vh;\n  padding: 1rem;\n}\n\n/* Discord布局 */\n.discord-layout {\n  display: flex;\n  width: 100%;\n  height: 100vh;\n  overflow: hidden;\n}\n\n/* 响应式设计 */\n@media (max-width: 768px) {\n  .chat-main {\n    flex-direction: column;\n  }\n  \n  .discord-layout {\n    flex-direction: column;\n  }\n  \n  .server-list {\n    width: 100% !important;\n    height: auto !important;\n    flex-direction: row !important;\n    padding: 8px !important;\n  }\n  \n  .server-items {\n    flex-direction: row !important;\n    padding: 0 8px !important;\n  }\n  \n  .server-item {\n    margin-right: 8px !important;\n    margin-bottom: 0 !important;\n  }\n}\n</style>\n"],"mappings":";;EACOA,KAAK,EAAC;AAAe;;EAD5BC,GAAA;EAE0BD,KAAK,EAAC;;;EAFhCC,GAAA;EAKgBD,KAAK,EAAC;;;;;;;;uBAJpBE,mBAAA,CA8BM,OA9BNC,UA8BM,G,CA7BQC,KAAA,CAAAC,QAAQ,I,cAApBH,mBAAA,CAEM,OAFNI,UAEM,GADJC,YAAA,CAAkCC,oBAAA;IAAtBC,OAAK,EAAEC,QAAA,CAAAC;EAAW,qC,oBAEhCT,mBAAA,CAyBM,OAzBNU,UAyBM,GAxBJC,mBAAA,WAAc,EACdN,YAAA,CAAcO,qBAAA,GAEdD,mBAAA,YAAe,EACfN,YAAA,CAIEQ,6BAAA;IAHCC,WAAW,EAAEZ,KAAA,CAAAY,WAAW;IACxBC,eAAe,EAAEb,KAAA,CAAAC,QAAQ;IACzBa,mBAAmB,EAAEC,IAAA,CAAAC;sFAGxBP,mBAAA,UAAa,EACbN,YAAA,CAIEc,wBAAA;IAHCC,WAAW;MAAAjB,QAAA,EAAID,KAAA,CAAAC,QAAQ;MAAAkB,MAAA,EAAEnB,KAAA,CAAAmB;IAAM;IAC/BC,mBAAmB,EAAEd,QAAA,CAAAe,iBAAiB;IACtCP,mBAAmB,EAAEC,IAAA,CAAAC;0FAGxBP,mBAAA,aAAgB,EAERM,IAAA,CAAAO,iBAAiB,I,cADzBC,YAAA,CAKEC,4BAAA;IA7BR3B,GAAA;IA0BS4B,MAAM,EAAEV,IAAA,CAAAO,iBAAiB;IACzBI,OAAK,EAAEX,IAAA,CAAAY,kBAAkB;IACzBC,eAAc,EAAEb,IAAA,CAAAc;uEA5BzBpB,mBAAA,e","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}